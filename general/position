position = {}

position.save = function()
  local w = fs.open('pos_cache', 'w')
  
  w.writeLine(tostring(position.x))
  w.writeLine(tostring(position.y))
  w.writeLine(tostring(position.z))
  w.writeLine(tostring(position.direction))
  
  w.close()
end

position.load = function() 
  if fs.exists('pos_cache') then
    local r = fs.open('pos_cache', 'r')
    
    position.x = tonumber(r.readLine())
    position.y = tonumber(r.readLine())
    position.z = tonumber(r.readLine())
    position.direction = tonumber(r.readLine())

    r.close()
  end
end

position.load()
